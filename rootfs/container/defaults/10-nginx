# SPDX-FileCopyrightText: Â© 2025 Nfrastack <code@nfrastack.com>
#
# SPDX-License-Identifier: MIT

ENABLE_NGINX=${ENABLE_NGINX:-"TRUE"}
NGINX_AUTHENTICATION_BASIC_PASS=${NGINX_AUTHENTICATION_BASIC_PASS:-"nfrastack"}
NGINX_AUTHENTICATION_BASIC_USER=${NGINX_AUTHENTICATION_BASIC_USER:-"admin"}
NGINX_AUTHENTICATION_TITLE=${NGINX_AUTHENTICATION_TITLE:-"Please login"}
NGINX_AUTHENTICATION_TYPE=${NGINX_AUTHENTICATION_TYPE:-"NONE"}
NGINX_AUTHENTICATION_LLNG_HANDLER_HOST=${NGINX_AUTHENTICATION_LLNG_HANDLER_HOST:-"llng-handler:2884"}
NGINX_AUTHENTICATION_LLNG_HANDLER_PORT=${NGINX_AUTHENTICATION_LLNG_HANDLER_PORT:-"2884"}
NGINX_DEFAULT_ENABLE_EXPLOIT_PROTECTION=${NGINX_DEFAULT_ENABLE_EXPLOIT_PROTECTION:-"TRUE"}
NGINX_ENABLE_APPLICATION_CONFIGURATION=${NGINX_ENABLE_APPLICATION_CONFIGURATION:-"TRUE"}
NGINX_ENABLE_BLOCK_BOTS=${NGINX_ENABLE_BLOCK_BOTS:-"FALSE"}
NGINX_ENABLE_CACHE_OPEN_FILE=${NGINX_ENABLE_CACHE_OPEN_FILE:-"TRUE"}
NGINX_ENABLE_CLIENT_CACHE=${NGINX_ENABLE_CLIENT_CACHE:-"ALL"}
NGINX_ENABLE_COMPRESSION_BROTLI=${NGINX_ENABLE_COMPRESSION_BROTLI:-"TRUE"}
NGINX_ENABLE_COMPRESSION_GZIP=${NGINX_ENABLE_COMPRESSION_GZIP:-"TRUE"}
NGINX_ENABLE_CREATE_SAMPLE_HTML=${NGINX_ENABLE_CREATE_SAMPLE_HTML:-"TRUE"}
NGINX_ENABLE_DDOS_PROTECTION=${NGINX_ENABLE_DDOS_PROTECTION:-"FALSE"}
NGINX_ENABLE_EPOLL=${NGINX_ENABLE_EPOLL:-"TRUE"}
NGINX_ENABLE_FASTCGI_HTTPS=${NGINX_ENABLE_FASTCGI_HTTPS:-"FALSE"}
NGINX_ENABLE_METRICS=${NGINX_ENABLE_METRICS:-"TRUE"}
NGINX_ENABLE_MULTI_ACCEPT=${NGINX_ENABLE_MULTI_ACCEPT:-"TRUE"}
NGINX_ENABLE_PROXY_BUFFERING=${NGINX_ENABLE_PROXY_BUFFERING:-"TRUE"}
NGINX_ENABLE_RESET_TIMEDOUT_CONNECTION=${NGINX_ENABLE_RESET_TIMEDOUT_CONNECTION:-"TRUE"}
NGINX_ENABLE_REVERSE_PROXY=${NGINX_ENABLE_REVERSE_PROXY:-"TRUE"}
NGINX_ENABLE_SENDFILE=${NGINX_ENABLE_SENDFILE:-"TRUE"}
NGINX_ENABLE_SERVER_TOKENS=${NGINX_ENABLE_SERVER_TOKENS:-"FALSE"}
NGINX_ENABLE_SITE_OPTIMIZATION=${NGINX_ENABLE_SITE_OPTIMIZATION:-"TRUE"}
NGINX_ENABLE_TCPNODELAY=${NGINX_ENABLE_TCPNODELAY:-"TRUE"}
NGINX_ENABLE_TCPNOPUSH=${NGINX_ENABLE_TCPNOPUSH:-"TRUE"}
NGINX_ENABLE_UPSTREAM_KEEPALIVE=${NGINX_ENABLE_UPSTREAM_KEEPALIVE:-"TRUE"}
NGINX_FORCE_RESET_PERMISSIONS=${NGINX_FORCE_RESET_PERMISSIONS:-"TRUE"}
NGINX_GROUP=${NGINX_GROUP:-"www-data"}
NGINX_LISTEN_PORT=${NGINX_LISTEN_PORT:-"80"}
NGINX_LOG_ACCESS_FILE=${NGINX_LOG_ACCESS_FILE:-"access.log"}
NGINX_LOG_ACCESS_FORMAT=${NGINX_LOG_ACCESS_FORMAT:-"standard"}
NGINX_LOG_ACCESS_LOCATION=${NGINX_LOG_ACCESS_LOCATION:-"/logs/nginx/"}
NGINX_LOG_BLOCKED_FILE=${NGINX_LOG_BLOCKED_FILE:-"blocked.log"}
NGINX_LOG_BLOCKED_FORMAT=${NGINX_LOG_BLOCKED_FORMAT:-"standard"}
NGINX_LOG_BLOCKED_LOCATION=${NGINX_LOG_BLOCKED_LOCATION:-"/logs/nginx/"}
NGINX_LOG_ERROR_FILE=${NGINX_LOG_ERROR_FILE:-"error.log"}
NGINX_LOG_ERROR_LOCATION=${NGINX_LOG_ERROR_LOCATION:-"/logs/nginx/"}
NGINX_LOG_LEVEL_ERROR=${NGINX_LOG_LEVEL_ERROR:-"warn"}
NGINX_MAINTENANCE_FILE=${NGINX_MAINTENANCE_FILE:-"index.html"}
NGINX_MAINTENANCE_PATH=${NGINX_MAINTENANCE_PATH:-"/container/data/nginx/maintenance/"}
NGINX_MAINTENANCE_PROXY_URL=${NGINX_MAINTENANCE_PROXY_URL:-"http://maintenance"}
NGINX_MAINTENANCE_TYPE=${NGINX_MAINTENANCE_TYPE:-"local"}
NGINX_MODE=${NGINX_MODE:-"NORMAL"}
NGINX_REAL_IP_HEADER=${NGINX_REAL_IP_HEADER:-"X-Forwarded-For"}
NGINX_RELOAD_ON_CONFIG_CHANGE=${NGINX_RELOAD_ON_CONFIG_CHANGE:-"FALSE"}
NGINX_SET_REAL_IP_FROM=${NGINX_SET_REAL_IP_FROM:-"172.16.0.0/12"}
NGINX_UPLOAD_MAX_SIZE=${NGINX_UPLOAD_MAX_SIZE:-"2G"}
NGINX_USER=${NGINX_USER:-"nginx"}
NGINX_WEBROOT=${NGINX_WEBROOT:-"/www/html"}
NGINX_WORKER_PROCESSES=${NGINX_WORKER_PROCESSES:-"1"}

case "${NGINX_AUTHENTICATION_TYPE,,}:${NGINX_LOG_ACCESS_FORMAT,,}" in
    llng:standard)
        NGINX_LOG_ACCESS_FORMAT=llng_standard
        ;;
    llng:json)
        NGINX_LOG_ACCESS_FORMAT=llng_json
        ;;
esac

get_defaults_advanced